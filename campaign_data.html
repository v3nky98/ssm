<html>
  <head>

    <script>

       function parseData() {
         var content = document.forms[0].json_data.value;
         var table_id = document.getElementById("rider_table");
         var fields = document.forms[0].fields.value;
         var field_array=fields.split(",");
         
         var json_obj = JSON.parse(content);

         var riders = json_obj.result.length;

         
         for ( i = 0 ; i < riders ; i++ ) {
           var rider_rec = json_obj.result.records[i];

/*
           table_id.innerHTML += "<tr>";
             table_id.innerHTML += "<td>" + (i+1) + "</td>";
             table_id.innerHTML += "<td>" + rider_rec.registration_whatsapp_number + "</td>";
             table_id.innerHTML += "<td>" + rider_rec.contact_id_fkey[1] + "</td>";
           table_id.innerHTML += "</tr>";
           
           rider_rec.partner_id[1]
*/
           
           table_id.innerHTML += "<tr>" +
                                 "<td>" + (i+1) + "</td>";
           
           for ( f = 0 ; f < fields ; f++ ) {
              table_id.innerHTML += "<td>" + eval("rider_rec." + fields[f]) + "</td>";
           }
     

            table_id.innerHTML += "</tr> <br/>";
         }
       }



       function presentData () {

       }

    </script>

  </head>

  <body>

    <form name="rider_form">
      Paste Rider data (JSON) <br/>
      <textarea name="json_data" rows="10" cols="50"></textarea>
      <br/><br/>
      <input type="button" value="Extract" onClick="parseData();"></input>
    <input type="text" name="fields" value="partner_ieo_lang_pref"></input>
    </form>
    <br/>
    Ppt data v2<br/>
    <table id="rider_table" border="1">
    </table>


  </body>


</html>
